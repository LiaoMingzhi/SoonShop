# SoonShop åç«¯å¾®æœåŠ¡ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºRustæ„å»ºçš„ç°ä»£åŒ–å¾®æœåŠ¡ç”µå•†å¹³å°åç«¯ç³»ç»Ÿï¼Œé‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)å’Œäº‹ä»¶é©±åŠ¨æ¶æ„ã€‚ä½¿ç”¨ SeaORMã€PostgreSQL 17.0ã€Redis 7.0.15 å’Œ ElasticSearch 8.7.1ã€‚

## ğŸ“‹ ç›®å½•ç»“æ„

```
backend-microservices/
â”œâ”€â”€ services/                          # å¾®æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ user-service/                  # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ product-service/               # å•†å“æœåŠ¡
â”‚   â”œâ”€â”€ order-service/                 # è®¢å•æœåŠ¡
â”‚   â”œâ”€â”€ payment-service/               # æ”¯ä»˜æœåŠ¡
â”‚   â”œâ”€â”€ inventory-service/             # åº“å­˜æœåŠ¡
â”‚   â”œâ”€â”€ notification-service/          # é€šçŸ¥æœåŠ¡
â”‚   â””â”€â”€ analytics-service/             # åˆ†ææœåŠ¡
â”œâ”€â”€ shared/                            # å…±äº«åº“
â”‚   â”œâ”€â”€ common/                        # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ events/                        # äº‹ä»¶å®šä¹‰
â”‚   â””â”€â”€ schemas/                       # æ•°æ®æ¨¡å¼
â”œâ”€â”€ gateway/                           # APIç½‘å…³
â”œâ”€â”€ infrastructure/                    # åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ docker/                        # Dockeré…ç½®
â”‚   â”œâ”€â”€ kubernetes/                    # K8sé…ç½®
â”‚   â”œâ”€â”€ monitoring/                    # ç›‘æ§é…ç½®
â”‚   â””â”€â”€ databases/                     # æ•°æ®åº“é…ç½®
â”œâ”€â”€ tools/                             # å·¥å…·è„šæœ¬
â”œâ”€â”€ docs/                              # æ–‡æ¡£
â””â”€â”€ tests/                             # é›†æˆæµ‹è¯•
```

## ğŸš€ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Rust 1.88.0** - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- **Actix-web 4.11** - Webæ¡†æ¶
- **SeaORM 1.1** - ORMæ¡†æ¶ (ç®€å•ã€çµæ´»ä¸”é«˜æ€§èƒ½)
- **PostgreSQL 17.0** - ä¸»æ•°æ®åº“
- **Redis 7.0.15** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **RabbitMQ 3.11** - æ¶ˆæ¯é˜Ÿåˆ—
- **ElasticSearch 8.7.1** - æœç´¢å¼•æ“

### åŸºç¡€è®¾æ–½
- **Docker & Docker Compose** - å®¹å™¨åŒ–
- **Kubernetes** - å®¹å™¨ç¼–æ’
- **Prometheus & Grafana** - ç›‘æ§
- **Jaeger** - åˆ†å¸ƒå¼è¿½è¸ª
- **Consul** - æœåŠ¡å‘ç°

## ğŸ—ï¸ æ¶æ„ç‰¹ç‚¹

### å¾®æœåŠ¡æ¶æ„
- **æœåŠ¡æ‹†åˆ†åŸºäºä¸šåŠ¡åŸŸ**: æ¯ä¸ªæœåŠ¡ç‹¬ç«‹è´Ÿè´£ç‰¹å®šçš„ä¸šåŠ¡é¢†åŸŸ
- **ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•**: æ¯ä¸ªæœåŠ¡å¯ä»¥ç‹¬ç«‹éƒ¨ç½²ã€æ‰©å±•å’Œå‡çº§
- **æœåŠ¡é—´é€šè¿‡APIé€šä¿¡**: ä½¿ç”¨RESTful APIå’Œäº‹ä»¶è¿›è¡ŒæœåŠ¡é—´é€šä¿¡
- **æ•°æ®åº“åˆ†åº“åˆ†è¡¨**: æ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®å­˜å‚¨

### äº‹ä»¶é©±åŠ¨æ¶æ„
- **å¼‚æ­¥äº‹ä»¶å¤„ç†**: ä½¿ç”¨RabbitMQè¿›è¡Œå¼‚æ­¥äº‹ä»¶å¤„ç†
- **æ¶ˆæ¯é˜Ÿåˆ—è§£è€¦**: é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å®ç°æœåŠ¡è§£è€¦
- **äº‹ä»¶æº¯æºæœºåˆ¶**: æ”¯æŒäº‹ä»¶æº¯æºå’Œé‡æ”¾
- **æœ€ç»ˆä¸€è‡´æ€§ä¿è¯**: é€šè¿‡äº‹ä»¶ç¡®ä¿æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§

### åˆ†å¸ƒå¼æ¶æ„
- **å¤šèŠ‚ç‚¹éƒ¨ç½²**: æ”¯æŒå¤šèŠ‚ç‚¹æ°´å¹³æ‰©å±•
- **æ°´å¹³æ‰©å±•èƒ½åŠ›**: é€šè¿‡è´Ÿè½½å‡è¡¡å®ç°æ°´å¹³æ‰©å±•
- **æ•…éšœè½¬ç§»æœºåˆ¶**: å†…ç½®å¥åº·æ£€æŸ¥å’Œæ•…éšœè½¬ç§»
- **æ•°æ®åˆ†ç‰‡ç­–ç•¥**: æ”¯æŒæ•°æ®åº“åˆ†ç‰‡å’Œè¯»å†™åˆ†ç¦»

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Rust 1.88.0+
- Docker & Docker Compose
- PostgreSQL 17.0+
- Redis 7.0.15+
- ElasticSearch 8.7.1+
- SeaORM CLI (ç”¨äºæ•°æ®åº“è¿ç§»)

### ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd backend-microservices

# å®‰è£…å¼€å‘ä¾èµ–
make install-dev

# å¯åŠ¨å¼€å‘ç¯å¢ƒ (ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡)
make dev
```

### æ‰‹åŠ¨å¯åŠ¨æ­¥éª¤
```bash
# 1. å¯åŠ¨åŸºç¡€è®¾æ–½ (PostgreSQL, Redis, ElasticSearch)
make docker-up

# 2. è¿è¡Œæ•°æ®åº“è¿ç§»
make migrate

# 3. æ„å»ºé¡¹ç›®
make build

# 4. å¯åŠ¨æœåŠ¡
make run-user-service &
make run-product-service &
```

## ğŸ“Š æœåŠ¡åˆ—è¡¨

| æœåŠ¡åç§° | ç«¯å£ | æè¿° | çŠ¶æ€ |
|---------|------|------|------|
| API Gateway | 8000 | APIç½‘å…³å’Œè´Ÿè½½å‡è¡¡ | âœ… |
| User Service | 8001 | ç”¨æˆ·è®¤è¯å’Œç®¡ç† | âœ… |
| Product Service | 8002 | å•†å“ç®¡ç†å’Œæœç´¢ | âœ… |
| Order Service | 8003 | è®¢å•å¤„ç† | ğŸš§ |
| Payment Service | 8004 | æ”¯ä»˜å¤„ç† | ğŸš§ |
| Inventory Service | 8005 | åº“å­˜ç®¡ç† | ğŸš§ |
| Notification Service | 8006 | é€šçŸ¥æœåŠ¡ | ğŸš§ |
| Analytics Service | 8007 | æ•°æ®åˆ†æ | ğŸš§ |

## ğŸ”§ å¼€å‘å·¥å…·

### å¸¸ç”¨å‘½ä»¤
```bash
# æ„å»ºé¡¹ç›®
make build

# è¿è¡Œæµ‹è¯•
make test

# æ ¼å¼åŒ–ä»£ç 
make format

# ä»£ç æ£€æŸ¥
make lint

# å¥åº·æ£€æŸ¥
make health-check

# æŸ¥çœ‹æ—¥å¿—
make logs
```

### æ•°æ®åº“æ“ä½œ
```bash
# è®¾ç½®æ•°æ®åº“
make db-setup

# è¿è¡Œè¿ç§»
make migrate

# é‡ç½®æ•°æ®åº“
make db-reset
```

## ğŸ“¡ APIæ–‡æ¡£

### ç”¨æˆ·æœåŠ¡ API
```
POST   /users              # åˆ›å»ºç”¨æˆ·
GET    /users/:id          # è·å–ç”¨æˆ·
PUT    /users/:id          # æ›´æ–°ç”¨æˆ·
DELETE /users/:id          # åˆ é™¤ç”¨æˆ·
GET    /users              # ç”¨æˆ·åˆ—è¡¨
POST   /auth/login         # ç”¨æˆ·ç™»å½•
POST   /auth/refresh       # åˆ·æ–°Token
```

### äº§å“æœåŠ¡ API
```
POST   /products           # åˆ›å»ºäº§å“
GET    /products/:id       # è·å–äº§å“
PUT    /products/:id       # æ›´æ–°äº§å“
DELETE /products/:id       # åˆ é™¤äº§å“
GET    /products           # äº§å“åˆ—è¡¨
GET    /products/search    # æœç´¢äº§å“
```

## ğŸ” å®‰å…¨æ€§

### è®¤è¯å’Œæˆæƒ
- JWT Tokenè®¤è¯
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- APIå¯†é’¥ç®¡ç†
- OAuth2.0é›†æˆ

### æ•°æ®ä¿æŠ¤
- æ•°æ®åŠ å¯†ä¼ è¾“(TLS)
- æ•æ„Ÿæ•°æ®è„±æ•
- æ•°æ®å¤‡ä»½å’Œæ¢å¤
- å®¡è®¡æ—¥å¿—è®°å½•

## ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—

### ç›‘æ§æŒ‡æ ‡
- æœåŠ¡å¥åº·çŠ¶æ€
- å“åº”æ—¶é—´å’Œååé‡
- é”™è¯¯ç‡å’ŒæˆåŠŸç‡
- èµ„æºä½¿ç”¨æƒ…å†µ

### æ—¥å¿—ç®¡ç†
- ç»“æ„åŒ–æ—¥å¿—
- åˆ†å¸ƒå¼è¿½è¸ª
- æ—¥å¿—èšåˆå’Œæœç´¢
- å¼‚å¸¸å‘Šè­¦

## ğŸš€ éƒ¨ç½²

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
make docker-build

# å¯åŠ¨å®¹å™¨
make docker-up
```

### Kuberneteséƒ¨ç½²
```bash
# éƒ¨ç½²åˆ°K8s
kubectl apply -f infrastructure/kubernetes/
```

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
make test
```

### é›†æˆæµ‹è¯•
```bash
# è¿è¡Œé›†æˆæµ‹è¯•
cargo test --test integration
```

### æ€§èƒ½æµ‹è¯•
```bash
# è¿è¡Œæ€§èƒ½æµ‹è¯•
make bench
```

## ğŸ“š æ–‡æ¡£

- [æ¶æ„è®¾è®¡æ–‡æ¡£](docs/architecture.md)
- [APIæ¥å£æ–‡æ¡£](docs/api.md)
- [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](docs/database.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md)
- [å¼€å‘æŒ‡å—](docs/development.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¥ å›¢é˜Ÿ

- **æ¶æ„å¸ˆ**: è´Ÿè´£ç³»ç»Ÿæ¶æ„è®¾è®¡
- **åç«¯å¼€å‘**: è´Ÿè´£å¾®æœåŠ¡å¼€å‘
- **è¿ç»´å·¥ç¨‹å¸ˆ**: è´Ÿè´£åŸºç¡€è®¾æ–½ç®¡ç†
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: è´Ÿè´£è´¨é‡ä¿è¯

## ğŸ“§ è”ç³»æ–¹å¼

- é‚®ç®±: team@soonshop.com
- é¡¹ç›®åœ°å€: https://github.com/soonshop/backend-microservices
- æ–‡æ¡£åœ°å€: https://docs.soonshop.com

---

â­ å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼ 